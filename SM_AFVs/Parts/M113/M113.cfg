PART
{

name = M113Hull
module = Part
author = Spanner

MODEL
	{
		model = SM_AFVs/Parts/M113/M113
		scale = 1.0, 1.0, 1.0
	}
rescaleFactor = 1
buoyancy = 0.4
// --- node definitions ---
node_attach = 0.0, -0.0, 0.1204296, 0, -1, 0, 1
node_stack_mid = 0.0, -0.0 ,-1.333534 , 0, 1, 0, 1
node_stack_fwd = 0.0, 1.462288,-1.333534 , 0, 1, 0, 1
node_stack_aft = 0.0, -3.216576,-1.561591 , 0, 1, 0, 1
// --- editor parameters ---
TechRequired = precisionEngineering
entryCost = 2100
cost = 3500
category = none
subcategory = 0
		title = #autoLOC_SMIndustries_5000164	//#autoLOC_SMIndustries_5000164 = M113 IFV
manufacturer = SM Armory Tanks
		description = #autoLOC_SMIndustries_5000165	//#autoLOC_SMIndustries_5000165 = M113 IFV  and IVA for 2 hardy Kerbals
// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
attachRules = 1,0,1,1,0

// --- standard part parameters ---
mass = 10
dragModelType = default
maximum_drag = 0.2
minimum_drag = 0.2
angularDrag = 2
crashTolerance = 100
maxTemp = 3600
vesselType = Rover
CrewCapacity = 2
bulkheadProfiles = size2, size1
	fuelCrossFeed = True
	
		DRAG_CUBE
	{
		cube = Default, 7.702,0.9636,3.079, 7.706,0.9612,3.079, 4.508,0.7379,5.165, 4.508,0.8196,4.72, 14.08,0.9302,1.955, 14.09,0.9281,2.14, 0,-2.384E-07,-0.2934, 2.879,4.965,1.94
	}
		MODULE
	{
		name = ModuleResourceIntake
		resourceName = IntakeAir
		checkForOxygen = true
		area = 0.0099
		intakeSpeed = 10
		intakeTransformName = intake
	}
	RESOURCE
{
	name = IntakeAir
	amount = 1
	maxAmount = 10
}
	INTERNAL
		{
		name = M113Internal
	}
	MODULE
	{
		name = ModuleCommand
		minimumCrew = 0
	}


	
MODULE
{
  name = MissileFire
}

MODULE
{
  name = RadarWarningReceiver
}
///////////////////////////////////////

	MODULE
	{
		name = ModuleEnginesFX
		engineID = Normal
		thrustVectorTransformName = thrustTransform
		exhaustDamage = False
		ignitionThreshold = 0.1
		minThrust = 0.001
		maxThrust = 0.01
		heatProduction = 100
		useEngineResponseTime = True
		engineAccelerationSpeed = 0.6
		engineDecelerationSpeed = 0.4
		useVelocityCurve = False
		flameoutEffectName = flameout
		powerEffectName = power_normal
		//runningEffectName = running_thrust
		engageEffectName = engage
		disengageEffectName = disengage
		spoolEffectName = running_normal
		engineSpoolIdle = 0.05
		engineSpoolTime = 0.3
		EngineType = Turbine
		exhaustDamageMultiplier = 70
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1.0
			DrawGauge = True
		}
		PROPELLANT
		{
			name = IntakeAir
			ignoreForIsp = True
			ratio = 16
		}
		atmosphereCurve
		{
			key = 0 800 0 0 
		}
		// Jet params
		atmChangeFlow = True
		useVelCurve = True
		useAtmCurve = True
		flowMultCap = 1.1
		machLimit = 1.75
		machHeatMult = 20.0
		velCurve
		{
			key = 0 1 0 0
			key = 0.35 0.932 0 0
			key = 1 1.13 0.4510796 0.4510796
			key = 1.75 1.5 0 0
			key = 2 1.38 -1.126258 -1.126258
			key = 2.5 0 0 0
		}
		atmCurve
		{
			key = 0 0 1.069445 0.7244952
			key = 0.072 0.08 1.472049 1.472049
			key = 0.17 0.21 1.227685 1.227685
			key = 0.34 0.39 1.01426 1.01426
			key = 1 1 0.969697 0.969697
		}
	}
	MODULE
	{
		name = ModuleAlternator
		RESOURCE
		{
			name = ElectricCharge
			rate = 10
		}
	}
	
	 EFFECTS
	{	
	
		power_normal
		{
			AUDIO
			{
				channel = Ship
				clip = SM_AFVs/Sounds/sound_v8idle2
				volume = 0.0 0.0
				volume = 0.001 0.4
				volume = 0.01 1.0
				volume = 0.1 1.5
				volume = 0.4 2.0
				volume = 0.7 2.5
				volume = 1.0 3.0
				pitch = 0.0 0.7
				pitch = 1.0 1.6
				loop = true
			}
			
			 PREFAB_PARTICLE
			{
				prefabName = fx_smokeTrail_light
				transformName = thrustTransform
				emission = 0.0 0.0
				emission = 0.05 0.0
				emission = 0.075 0.25
				emission = 1.0 1.25
				speed = 0.0 0.25
				speed = 1.0 4.0
				localOffset = 0, -0.4, 1
				localRotation = 0, -1, 0, -90
			}
		}

		engage
		{
			AUDIO
			{
				channel = Ship
				clip = SM_AFVs/Sounds/sound_v8start
				volume = 5.0
				pitch = 0.8
				loop = false
			}
		
		}
		disengage
		{
			AUDIO
			{
				channel = Ship
				clip = SM_Stryker/StrykerAerospace/Sounds/lercheshutdown
				volume = 1.0
				pitch = 0.8
				loop = false
			}
		}
		flameout
		{
			AUDIO
			{
				channel = Ship
				clip = SM_Stryker/StrykerAerospace/Sounds/lercheshutdown
				volume = 1.0
				pitch = 0.8
				loop = false
			}
		
		}
	}
/////////////////
MODULE
{
   name = ModuleAnimateGeneric
   animationName = M113BayDoor
  	allowDeployLimit = true
		revClampDirection = false
		revClampSpeed = true
		revClampPercent = true	
   startEventGUIName = OpenRearDoor
   endEventGUIName = CloseRearDoor
   actionGUIName = Toggle RearDoor
}
MODULE
{
   name = ModuleAnimateGeneric
   animationName = M113tophatch
  	allowDeployLimit = true
		revClampDirection = false
		revClampSpeed = true
		revClampPercent = true	
   startEventGUIName = OpenTopDoor
   endEventGUIName = CloseTopDoor
   actionGUIName = Toggle TopDoor
}
MODULE
{
   name = ModuleAnimateGeneric
   animationName = M113convLight
  
   startEventGUIName = ConvoyLightsON
   endEventGUIName = ConvoyLightsOFF
   actionGUIName = Toggle ConvoyLights
}

MODULE
	{
		name = FlagDecal
		textureQuadName = FlagQuad1
	}
	MODULE
	{
		name = FlagDecal
		textureQuadName = FlagQuad2
	}
MODULE
	{
		name = ModuleGenerator
		isAlwaysActive = false
		requiresAllinputs = false
		resourceThreshold = 0.01
		activateGUIName = Generator On
		shutdownGUIName = Generator Off
		efficiency = 95
			
			OUTPUT_RESOURCE
			{
			   name = ElectricCharge
			   rate = 1
			}
	}


			MODULE
	{
		name = ModuleLight
			lightName = M113L1,M113L2
		useAnimationDim = true
		lightBrightenSpeed = 2.5
		lightDimSpeed = 2.5
		resourceAmount = 0.08
		animationName = M113HeadLights
		
		useResources = true
	}
	MODULE
	{
		name = ModuleTargetingCamera
		cameraTransformName = camTransform
		eyeHolderTransformName = eyeHolderTransform
		zoomFOVs = 40,15,3,1
		gimbalLimit = 40
	}
	MODULE
	{
	  name = CMDropper
	  ejectTransformName = cmTransform
	  effectsTransformName = effectsTransform
	  countermeasureType = smoke
	}
	RESOURCE
	{
	 name = CMSmoke
	 amount = 1
	 maxAmount = 30
	}
	RESOURCE
	{
		name = ElectricCharge
		amount = 100
		maxAmount = 1500
	}
	RESOURCE
	{
		name = LiquidFuel
		amount = 100
		maxAmount = 500
	}
		RESOURCE
	{
		name = 30x173Ammo
		amount = 1
		maxAmount = 1600
	}
MODULE
	{
		name = ModuleDataTransmitter
		antennaType = INTERNAL
		packetInterval = 0.35
		packetSize = 4
		packetResourceCost = 24.0
		requiredResource = ElectricCharge
		antennaPower = 1000000
		antennaCombinable = True
	}	
	MODULE
	{
		name = ModuleKerbNetAccess
		MinimumFoV = 17
		MaximumFoV = 180
		AnomalyDetection = 0
		DISPLAY_MODES
		{
			Mode = Terrain,#autoLOC_438839 //#autoLOC_438839 = Terrain
			Mode = Biome,#autoLOC_438890 //#autoLOC_438890 = Biome
		}
		REQUIRED_EFFECTS
		{
			Effect = ScienceSkill
		}
	}
}
